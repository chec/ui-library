import { Meta, Props, Story, Preview } from '@storybook/addon-docs/blocks';
import { action } from '@storybook/addon-actions';
import BaseDropdown from '../../components/BaseDropdown.vue';
import BaseOption from '../../components/BaseOption.vue';
import ChecModal from '../../components/ChecModal.vue';
const defaultOptions = [
  { value: 't2', label: 'T2 Ticket' },
  { value: 't1', label: 'T1 Ticket (Coming Soon)', disabled: true }
];
const defaultSelectOptions = [
  {
    value: 'meats',
    label: 'Meat',
    group: [
      { value: 'steak', label: 'Steak (Sold Out)', disabled: true },
      { value: 'chicken', label: 'Chicken' },
      { value: 'fish', label: 'Fish' },
    ],
  },
  { label: 'Fruit', group: [
    { value: 'apple', label: 'Apple' },
    { value: 'pear', label: 'Pear' },
    { value: 'kiwi', label: 'Kiwis' },
    { value: 'blueberry', label: 'Blueberries' }
  ]},
  { value: 'bread', label: 'Bread' },
];

<Meta title="Form fields/Dropdown" component={BaseDropdown} />

# Dropdown

<details>
<summary>
Todo list
</summary>

- Add a "Select All" option
- Implement keyboard navigation

</details>

<Props of={BaseDropdown} />

# Default:

<Preview>
  <Story name="Default">
    {{
      components: {
        BaseDropdown,
      },
      data() {
        return {
          option: "",
          options: defaultOptions,
        }
      },
      template: `
        <div class="p-16 flex justify-center w-full bg-gray-100">
          <BaseDropdown
            name="example-1"
            class="max-w-md"
            v-model="option"
            :options="options"
            placeholder="Example Dropdown Placeholder"
            />
        </div>`
    }}
  </Story>
</Preview>

# In context:

<Preview>
  <Story name="In context and required">
    {{
      components: {
        BaseDropdown,
      },
      data() {
        return {
          option: "",
          options: defaultOptions,
        }
      },
      template: `
        <div class="p-16 bg-gray-100 text-center">
          <div>Some content</div>
          <BaseDropdown
            name="example-3"
            class="max-w-md mx-auto"
            placeholder="Example Dropdown Placeholder"
            v-model="option"
            :options="options"
            baseOptionClass="text-left"
            :required="true"
            />
            <div>Some more content</div>
        </div>`
    }}
  </Story>
</Preview>

# As multi-select:

<Preview>
  <Story name="As multi-select">
    {{
      components: {
        BaseDropdown,
      },
      data() {
        return {
          options: defaultSelectOptions,
          selected: [],
        }
      },
      template: `
        <div class="my-8 p-16 bg-gray-100 text-center">
          <BaseDropdown
            name="example-4"
            class="max-w-md mx-auto"
            placeholder="Example Dropdown Placeholder"
            v-model="selected"
            :options="options"
            :multiselect="true"
            baseOptionClass="text-left"
            />
        </div>`
    }}
  </Story>
</Preview>

# Within a ChecModal, popping out of the overflow:

<Preview>
  <Story name="Within a ChecModal popping out of overflow">
    {{
      components: {
        ChecModal,
        BaseDropdown,
      },
      data() {
        return {
          events: [],
          options:  ["api-keys.create","api-keys.delete","api-keys.update","assets.create","assets.delete","checkouts.capture","developer.logs.delete","discounts.create","discounts.delete","giftcards.create","giftcards.redeem","orders.fulfill.digital","orders.fulfill.physical","orders.refund","orders.update","products.assets.create","products.assets.delete","products.assets.update","products.create","products.delete","products.update"]
          .map(option => ({ value: option, label: option})),
        }
      },
      template: `
          <ChecModal
            width="xl"
            class="w-full h-full relative"
            innerClass="bg-gray-100"
          > 
            <div>
              <h2 class="mb-4">Event(s)</h2>
              <BaseDropdown
                v-model="events"
                name="example-dropdown"
                :options="options"
                multiselect
              />
            </div>
          </ChecModal>
      `
    }}
  </Story>
</Preview>

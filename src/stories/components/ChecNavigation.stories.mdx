import { Meta, Story, Preview, Props} from '@storybook/addon-docs/blocks';
import ChecNavigation from '../../components/ChecNavigation.vue';
import StoryRouter from 'storybook-vue-router';
const routes = [
  {
    path: '/categories',
    meta: {
      navItem: {
        label: 'Categories',
        iconName: 'categories'
      },
    },
  },
  {
    path: '/discounts',
    meta: {
      navItem: {
        label: 'Discounts',
        iconName: 'discounts'
      },
    },
  },
  {
    path: '/developers',
    meta: {
      navItem: {
        label: 'Developers',
        iconName: 'developers'
      },
    },
  },
  {
    path: '/orders',
    meta: {
      navItem: {
        label: 'Orders',
        iconName: 'orders',
        sort: 10,
      },
    },
  },
  {
    path: '/products',
    meta: {
      navItem: {
        label: 'Products',
        iconName: 'products',
        sort: 20,
      },
    },
  },
  {
      path: '/settings',
      meta: {
        navItem: {
          label: 'Settings',
          iconName: 'settings',
          sort: 500,
        },
      },
    },
  {
    path: '/logs',
    meta: {
      navItem: {
        label: 'Logs',
        iconName: 'logs'
      },
    },
  },
];

<Meta title="Components/Navigation" component={ChecNavigation} />

## Navigation

The Navigation component takes the `vue-router` routes are are defined on the Vue instance for the project
you use the UI library in, e.g. the dashboard, and looks for any routes that are annotated with `navItem`
objects in the `meta` data. It will then use them in the navigation.

You may control the sort order by adding `sort: n` to this meta object. A low sort order will give it
precedence in the navigation, e.g. "Orders" may be given a sort of -10 or less to make it show at the top of
the navigation, while "Settings" should always be last, so one should give a sort of 500 or more. **If you
don't provide a sort at all, it will default to 100.**

<Props of={ChecNavigation} />

<Preview>
  <Story name="Default" decorators={[ StoryRouter({}, { routes })]}>
    {{
      components: {
        ChecNavigation
      },
      template: `
      <div class="w-full">
        <ChecNavigation class="absolute"/>
      </div>`
    }}
  </Story>
</Preview>

## Navigation with active route

<Preview>
  <Story
    name="With active /orders route"
    decorators={[ StoryRouter({}, { initialEntry: '/orders/55555', routes })]}>
    {{
      components: {
        ChecNavigation
      },
      template: `
      <div class="w-full">
        <ChecNavigation />
      </div>`
    }}
  </Story>
</Preview>

## Navigation set to expand (/orders)

<Preview>
  <Story
    name="Expanded"
    decorators={[ StoryRouter({}, { initialEntry: '/orders/55555', routes })]}>
    {{
      components: {
        ChecNavigation
      },
      template: `
      <div class="w-full">
        <ChecNavigation :expanded="true" />
      </div>`
    }}
  </Story>
</Preview>
